{"componentChunkName":"component---src-templates-the-notebook-js","path":"/the-notebook/ops/docker","result":{"data":{"content":{"frontmatter":{"title":"Docker","path":"the-notebook/ops/docker","type":"docs"},"html":"<h3>Docker</h3>\n<h4>use command</h4>\n<p>docker exec -it &#x3C;container_name> <command></p>\n<pre><code>docker exec -it docker_test bash\n</code></pre>\n<h4>copy</h4>\n<p>docker cp</p>\n<h5>ex host to container <file> &#x3C;container<em>name>:/&#x3C;to</em>path></h5>\n<ul>\n<li>\n<p>docker cp rabbitmqadmin docker<em>rabbitmq</em>1:/usr/local/bin</p>\n<h5>ex container to host &#x3C;container<em>name>:/<path>/<file> &#x3C;to</em>path></h5>\n</li>\n<li>docker cp jenkins:/var/jenkins_home/secrets/initialAdminPassword C:/Users/tdcm025</li>\n</ul>\n<h4>remove file</h4>\n<p>docker exec <container-name> rm -rf <file></p>\n<pre><code>docker exec docker_rabbitmq_1 rm -rf rmq-setup.sh\n</code></pre>\n<h4>remove volume data</h4>\n<p>docker volume ls\ndocker volume rm <name></p>\n<pre><code>docker volume rm docker_rabbitmq-data\n</code></pre>\n<ul>\n<li>\n<p>ex remove all volume</p>\n<pre><code>docker volume rm `docker volume ls -q -f dangling=true`\n</code></pre>\n</li>\n<li>\n<p>removing only unused volumes:</p>\n<pre><code>docker volume prune\n</code></pre>\n</li>\n</ul>\n<h4>image</h4>\n<pre><code>docker image prune => remove none used\n</code></pre>\n<h4>container</h4>\n<pre><code>docker container prune => remove none used container\n</code></pre>\n<h4>check disk</h4>\n<pre><code>docker system df\n</code></pre>\n<h3>Docker Compose</h3>\n<h4>docker-compose.yml</h4>\n<h5>version 3</h5>\n<ul>\n<li>links:  ผูก service เข้าด้วยกัน รูปแบบ Sevice name:Alias name</li>\n<li>depens_on: start service หลังจาก service ที่อยู่ depend on เริ่มต้นการทำงานเสร็จแล้ว</li>\n</ul>\n<h4>run</h4>\n<ul>\n<li>docker-compose run -d --build</li>\n</ul>\n<h4>build</h4>\n<ul>\n<li>docker-compose build</li>\n</ul>\n<h4>exec</h4>\n<ul>\n<li>docker-compose exec <name> bash</li>\n</ul>\n<h4>.env</h4>\n<ul>\n<li>ใน environment ใช้ $$ => ex: VAR=$${VARS}</li>\n</ul>\n<h4>link</h4>\n<ul>\n<li><a href=\"https://training.play-with-docker.com\">training</a></li>\n</ul>\n<p>--remove-orphans</p>"}},"pageContext":{"isCreatedByStatefulCreatePages":false,"pathSlug":"the-notebook/ops/docker"}}}